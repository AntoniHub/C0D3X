# This workflow will install Python dependencies, run tests and lint with a single version of Python
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-python
name: Daily Test2

on:
  schedule:
    - cron: '0 */6 * * *'
    
  workflow_dispatch:

jobs:
  test_figlet:
    if: github.event.schedule == '0 */6 * * *'
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ["3.10"]
    defaults:
      run:
        working-directory: "Jenkins-CI"
    env:
      API_KEY: ${{ secrets.API_KEY }}

    steps:
    - uses: actions/checkout@v4
      
    - name: Install & Run Figlet
      run: |
        sudo apt install -y figlet
        figlet -c Antonio Rodriguez > file.txt
      
    - name: Upload Figlet File
      uses: actions/upload-artifact@v4
      with:
        name: file
        path: "Jenkins-CI/file.txt"
        
    - name: Push Figlet File
      uses: actions-x/commit@v6
      with:
         email: abgrodriguezfarias@gmail.com
         name: Antonio Rodriguez Farias
         message: Antonio Rodriguez Farias
         branch: master
         files: file.txt
         repository: https://github.com/AntoniHub/C0D3X.git
         token: ${{ secrets.PAT }}
         force: true
         directory: "Jenkins-CI"

    - name: Create Issue
      uses: imjohnbo/issue-bot@v3
      with:
        assignees: "AntoniHub"
        title: Antonio Rodriguez Farias
        body: |-
          :wave: Hi, I am {{#each assignees}}@{{this}}{{#unless @last}}, {{/unless}}{{/each}}!

          ğŸš€ About me
          Software QA Engineer with experience in Frontend, Backend, Continuous Integration, Databases (SQL and NoSQL), UX/UI, Mobile, Architecture, Linux / macOS / Windows testing.
          
          ğŸ“Š Master Degree in Big Data - Catholic University of Avila
          ğŸ”’ Post Graduate Diploma in Defensive Cybersecurity
          ğŸ’¡ Diploma in Machine Learning | AI applied to Business
          ğŸ“Œ Continuous Testing with GitHub Actions
          ğŸ“Œ API Testing with Postman & Python
          ğŸ“Œ Frontend Testing with Selenium WebDriver
          ğŸ“Œ Backend Testing with Pytest, SQL & NoSQL
          ğŸ“Œ Linux Testing with Vagrant & VirtualBox
          ğŸ“Œ Mobile Testing with Android SDK & iOS
          ğŸ“ I write in depth on my website about myself [rodriguezfarias.com](https://rodriguezfarias.com/)
        pinned: false
        token: ${{ secrets.PAT }}

# For Pull Request
    - name: Push File to Repo
      uses: actions-x/commit@v6
      with:
        email: abgrodriguezfarias@gmail.com
        name: Antonio Rodriguez Farias
        message: Lorem Ipsum
        branch: test
        files: file.txt
        repository: https://github.com/AntoniHub/C0D3X.git
        token: ${{ secrets.PAT }}
        force: true
        directory: "Jenkins-CI"

    - name: Create Pull Request
      uses: repo-sync/pull-request@v2
      with:
        destination_branch: "master"
        source_branch: "test"
        github_token: ${{ secrets.PAT }}
        pr_title: "QA Engineer | Antonio Rodriguez Farias"
        pr_body: |-
          :wave: Hi, I am {{#each assignees}}@{{this}}{{#unless @last}}, {{/unless}}{{/each}}!

          ğŸš€ About me
          Software QA Engineer with experience in Frontend, Backend, Continuous Integration, Databases (SQL and NoSQL), UX/UI, Mobile, Architecture, Linux / macOS / Windows testing.
          
          ğŸ“Š Master Degree in Big Data - Catholic University of Avila
          ğŸ”’ Post Graduate Diploma in Defensive Cybersecurity
          ğŸ’¡ Diploma in Machine Learning | AI applied to Business
          ğŸ“Œ Continuous Testing with GitHub Actions
          ğŸ“Œ API Testing with Postman & Python
          ğŸ“Œ Frontend Testing with Selenium WebDriver
          ğŸ“Œ Backend Testing with Pytest, SQL & NoSQL
          ğŸ“Œ Linux Testing with Vagrant & VirtualBox
          ğŸ“Œ Mobile Testing with Android SDK & iOS
          ğŸ“ I write in depth on my website about myself [rodriguezfarias.com](https://rodriguezfarias.com/)
        pr_label: "autoumated-pr"
  
